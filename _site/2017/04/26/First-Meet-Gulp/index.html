<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" >
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
	<title>初识gulp</title>
	<meta name="description" content="云飞的个人博客、web、后端、javascript、css、html、H5、CSS3、web工程师、gulp、jekyll、git">
	<meta name="keywords" content="web、后端、webapp、个人博客、技术博客、github博客、javascript、css、html、H5、CSS3、web工程师、gulp" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="msapplication-tap-highlight" content="no">
	<meta name="author" contect="maoxiaoke, maoxiaoke@outlook.com">
	<meta name="robots" content="index,follow">
	<link rel="shortcut icon" href="/styles/images/favicon.png">
	<link rel="icon" href="/styles/images/favicon.png">
	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="canonical" href="http://localhost:4000">
	<!--[if lte IE 9]>
    	<script src="http://apps.bdimg.com/libs/html5shiv/3.7/html5shiv.min.js"></script>
  	<![endif]-->
	<!--[if lt IE 9]>
    	<script>window.location.href='/upgrade-your-browser.html';</script>
    <![endif]-->
	<script>
		var _hmt = _hmt || [];
		(function() {
  			var hm = document.createElement("script");
  			hm.src = "https://hm.baidu.com/hm.js?40ab350f7c60a488b8e8093960c0faf2";
  			var s = document.getElementsByTagName("script")[0]; 
  			s.parentNode.insertBefore(hm, s);
		})();
	</script>
</head>
  <body class="index">
    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.png" alt="小可嗒嗒的个人博客">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li></li>
        <li>
          <a href="/">首页</a>
        </li>
        <li>
          <a href="/categories/">博文分类</a>
        </li>
        <li>
          <a href="/tag">标签目录</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">

        <li><a rel="nofollow" href="/about">关于我</a></li>



        <!--<li><a rel="nofollow" target="_blank" href="https://liusha529.github.io/">关于我</a></li>-->

      </ul>
    </nav>
  </div>
</header>
    <div class="docs-header pa" id="content">
    <canvas id="mycanvas">你的浏览器不支持canvas</canvas>
    <div class="container" >
  	
        <!--
		    <h1>初识gulp</h1>
		    <p>Post on Apr 26, 2017 by <a href="/about">LiuSha</a></p>
		-->
        <h1>我们笑着说再见，却深知再见遥遥无期。</h1>
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container lh30">
  	
    	<a href="/categories/#研究生涯-ref">研究生涯</a>	/
    	<a href="/tag/#gulp-ref">gulp</a>
    
      <div id="search-container" class="pull-right">
          <input type="text" id="search-input" placeholder=" 试试直接搜索吧...">
          <label class="searchIcon glyphicon glyphicon-search" for="search-input"></label>
          <ul id="results-container"></ul>
      </div>
  </div>
</div>

    
    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2018">2018</a>
          <ul class="nav">
            <li><a href="#month_2018_January">January</a></li>
      

      
        
            </ul>
          </li>
          <li><a href="#year_2017">2017</a>
            <ul class="nav">
              <li><a href="#month_2017_October">October</a></li>
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_August">August</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_July">July</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_June">June</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_May">May</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_April">April</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_March">March</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_February">February</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_January">January</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
        
            </ul>
          </li>
          <li><a href="#year_2015">2015</a>
            <ul class="nav">
              <li><a href="#month_2015_February">February</a></li>
        
      
    
      
      
      
      

      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div> 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">初识gulp</h1>
              <!--
                <p class="post-meta">Apr 26, 2017</p>
              -->
              <div class="meta">Date： <span class="postdate">Apr 26, 2017</span> Author： <a target="_blank" href="http://localhost:4000">LiuSha</a></div>
              <br />
              <blockquote><p>本文章采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh"> 知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议 </a>进行许可。转载请注明来自<a href="http://xiaokedada.com">小可嗒嗒的博客</a></p></blockquote>
            </header>
            <article class="post-content">
              <ul id="markdown-toc">
  <li><a href="#常见的命令行操作" id="markdown-toc-常见的命令行操作">常见的命令行操作</a></li>
  <li><a href="#安装nodejs" id="markdown-toc-安装nodejs">安装node.js</a></li>
  <li><a href="#npm介绍" id="markdown-toc-npm介绍">npm介绍</a>    <ul>
      <li><a href="#答疑解惑--packagejson" id="markdown-toc-答疑解惑--packagejson">答疑解惑 – package.json</a></li>
      <li><a href="#答疑解惑--devdependencies依赖-和-dependencies依赖" id="markdown-toc-答疑解惑--devdependencies依赖-和-dependencies依赖">答疑解惑 – devDependencies依赖 和 dependencies依赖</a></li>
    </ul>
  </li>
  <li><a href="#gulp的安装和运行" id="markdown-toc-gulp的安装和运行">gulp的安装和运行</a>    <ul>
      <li><a href="#1全局安装gulp" id="markdown-toc-1全局安装gulp">1.全局安装<code class="highlighter-rouge">gulp</code></a></li>
      <li><a href="#2如果你需要使用gulp命令行" id="markdown-toc-2如果你需要使用gulp命令行">2.如果你需要使用<code class="highlighter-rouge">gulp</code>命令行</a></li>
      <li><a href="#3作为项目的开发依赖安装devdependencies安装到项目所在目录" id="markdown-toc-3作为项目的开发依赖安装devdependencies安装到项目所在目录">3.作为项目的开发依赖安装(<code class="highlighter-rouge">devDependencies</code>)，安装到项目所在目录</a></li>
      <li><a href="#4在项目所在目录新建gulpfilejs文件" id="markdown-toc-4在项目所在目录新建gulpfilejs文件">4.在项目所在目录新建<code class="highlighter-rouge">gulpfile.js</code>文件</a></li>
      <li><a href="#5-运行gulp" id="markdown-toc-5-运行gulp">5. 运行gulp</a></li>
    </ul>
  </li>
  <li><a href="#常见的gulp插件" id="markdown-toc-常见的gulp插件">常见的gulp插件</a></li>
  <li><a href="#gulp-sass--编译sass文件成css文件" id="markdown-toc-gulp-sass--编译sass文件成css文件">gulp-sass : 编译sass文件成css文件</a></li>
  <li><a href="#gulp的应用" id="markdown-toc-gulp的应用">gulp的应用</a>    <ul>
      <li><a href="#我的第一个应用--autoprefixer给常规css文件加厂商前缀" id="markdown-toc-我的第一个应用--autoprefixer给常规css文件加厂商前缀">我的第一个应用 – autoprefixer给常规css文件加厂商前缀</a>        <ul>
          <li><a href="#该项目结构如下" id="markdown-toc-该项目结构如下">该项目结构如下</a></li>
          <li><a href="#本地安装gulp-autoprefixer" id="markdown-toc-本地安装gulp-autoprefixer">本地安装gulp-autoprefixer</a></li>
          <li><a href="#配置gufilejs" id="markdown-toc-配置gufilejs">配置gufile.js</a></li>
          <li><a href="#执行任务" id="markdown-toc-执行任务">执行任务</a></li>
          <li><a href="#福利" id="markdown-toc-福利">福利</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#gulp有关的问题" id="markdown-toc-gulp有关的问题">gulp有关的问题</a>    <ul>
      <li><a href="#为啥有些要return-有些不需要" id="markdown-toc-为啥有些要return-有些不需要">为啥有些要return 有些不需要</a></li>
    </ul>
  </li>
</ul>

<p><code class="highlighter-rouge">Gulp</code>是一个基于<code class="highlighter-rouge">Node.js</code>的流式构建工具。可以使用它进行项目管理，方便地执行一些常见的任务。下面的文章按以下两点组织。</p>

<ul>
  <li><code class="highlighter-rouge">gulp</code>的基本知识</li>
  <li><code class="highlighter-rouge">gulp</code>执行的常见任务</li>
</ul>

<p>首先，贴出一些可供参考的网站：</p>

<ul>
  <li><a href="http://gulpjs.com/"><code class="highlighter-rouge">gulp</code>官网</a></li>
  <li><a href="https://github.com/gulpjs/gulp"><code class="highlighter-rouge">gulp</code>github 地址</a></li>
  <li><a href="http://gulpjs.com/plugins/"><code class="highlighter-rouge">gulp</code>官方插件地址</a></li>
  <li><a href="http://www.ydcss.com/archives/18#lesson6"><code class="highlighter-rouge">gulp</code>详细入门教程</a></li>
</ul>

<p>使用<code class="highlighter-rouge">gulp</code>的基本步骤是：</p>

<p>安装<code class="highlighter-rouge">node.js</code> -&gt; 全局安装<code class="highlighter-rouge">gulp</code> -&gt; 在项目里安装<code class="highlighter-rouge">gulp</code>和<code class="highlighter-rouge">gulp</code>插件 -&gt; 配置<code class="highlighter-rouge">gulpfile.js</code>文件 -&gt; 运行任务</p>

<!-- more -->

<h2 id="常见的命令行操作">常见的命令行操作</h2>

<p>先列出一些常见的命令行操作：</p>

<ul>
  <li><code class="highlighter-rouge">cd</code>: 进入目录</li>
  <li><code class="highlighter-rouge">dir</code>: 列出文件列表</li>
  <li><code class="highlighter-rouge">cls</code>: 清空命令提示符窗口内容</li>
  <li><code class="highlighter-rouge">touch 文件名.文件类型</code>: 在当前新建一个文件</li>
  <li><code class="highlighter-rouge">tree</code>: 列出当前目录的目录树</li>
</ul>

<h2 id="安装nodejs">安装node.js</h2>

<p>因为<code class="highlighter-rouge">gulp</code>是基于<code class="highlighter-rouge">node.js</code>，所以需要先安装<code class="highlighter-rouge">node.js</code>。<a href="https://nodejs.org/en/">官网传送门</a></p>

<p>安装完<code class="highlighter-rouge">Node.js</code>之后，<code class="highlighter-rouge">Node.js</code>的包管理工具<code class="highlighter-rouge">npm</code>也应该安装好了。可以用以下方法测试一下：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node <span class="nt">-v</span>
npm <span class="nt">-v</span>
</code></pre></div></div>

<hr />

<h2 id="npm介绍">npm介绍</h2>

<p><code class="highlighter-rouge">npm</code>是<code class="highlighter-rouge">node</code>包管理工具。用它来安装插件的操作是：<code class="highlighter-rouge">npm install &lt;name&gt; [-g] [--save-dev]</code>:</p>

<ul>
  <li><code class="highlighter-rouge">-g</code>: 全局安装，这种方式会安装在所属的系统盘的<code class="highlighter-rouge">node-modules</code>目录下(<code class="highlighter-rouge">C:\Users\timi\AppData\Roaming\npm\node-modules</code>)，并且写入系统环境变量，这样的话，就可以通过命令行在任何地方调用它。不使用<code class="highlighter-rouge">-g</code>进行全局安装，则该插件会安装在当前目录新生成<code class="highlighter-rouge">node-modules</code>文件夹里。</li>
  <li><code class="highlighter-rouge">--save</code>: 这条命令是说将配置保存至<code class="highlighter-rouge">package.json</code></li>
  <li><code class="highlighter-rouge">-dev</code>: 保存至<code class="highlighter-rouge">package.json</code>的<code class="highlighter-rouge">devDependencies</code>节点，不指定<code class="highlighter-rouge">-dev</code>则将保存至<code class="highlighter-rouge">dependencies</code>节点。</li>
</ul>

<h3 id="答疑解惑--packagejson">答疑解惑 – package.json</h3>

<p>每次初始化一个<code class="highlighter-rouge">node</code>项目，最好需要添加一个<code class="highlighter-rouge">package.json</code>的配置文件。这个文件的目的有以下几个方面：</p>

<ul>
  <li>相当于一个项目说明</li>
  <li>定义项目运行和开发所依赖的各种模块以及配置信息，根据这个配置文件，<code class="highlighter-rouge">npm install</code>会自动下载所需模块，非常方便地配置项目所需的运行和开发环境</li>
  <li>正因为上面第二点，所以更便于项目共享</li>
</ul>

<p>可以选择<code class="highlighter-rouge">npm init</code>初始化一个<code class="highlighter-rouge">package.json</code>文件，或者手动添加这个文件，都是有效的。</p>

<p>使用<code class="highlighter-rouge">npm init</code>添加一个<code class="highlighter-rouge">package.json</code>文件时，会有一个向导提示我们输入项目名称、版本信息等内容，这么多的属性可以在<code class="highlighter-rouge">npm</code>的参考文档中查阅。传送门：<a href="https://docs.npmjs.com/files/package.json">https://docs.npmjs.com/files/package.json</a></p>

<h3 id="答疑解惑--devdependencies依赖-和-dependencies依赖">答疑解惑 – devDependencies依赖 和 dependencies依赖</h3>

<p><code class="highlighter-rouge">package.json</code>文档中有<code class="highlighter-rouge">devDependencies</code>和<code class="highlighter-rouge">dependencies</code>两个属性。这两个属性的介绍也可以在<a href="https://docs.npmjs.com/files/package.json">https://docs.npmjs.com/files/package.json</a>页面中查到，官方解释好难懂呀。但简单解释就是：项目运行过程中依赖的模块，你就使用<code class="highlighter-rouge">dependencies</code>依赖，开发过程中，比如测试，压缩，文档框架这些东西，就使用<code class="highlighter-rouge">devDependencies</code>依赖。即，想要使用<code class="highlighter-rouge">devDependencies</code>依赖，安装的时候就加上<code class="highlighter-rouge">-dev</code>。</p>

<p>当然，<code class="highlighter-rouge">npm</code>还有其他操作：</p>

<ul>
  <li><code class="highlighter-rouge">npm uninstall &lt;name&gt; [-g] [--save-dev]</code>: 删除插件</li>
  <li><code class="highlighter-rouge">npm update &lt;name&gt; [-g] [--save-dev]</code>: 更新插件</li>
  <li><code class="highlighter-rouge">npm help</code>: 查看帮助</li>
  <li><code class="highlighter-rouge">npm list</code>: 列出当前目录已安装插件</li>
</ul>

<p><code class="highlighter-rouge">npm</code>的一些其他命令，可参考<a href="https://docs.npmjs.com/"><code class="highlighter-rouge">npm</code>官方文档</a></p>

<hr />

<h2 id="gulp的安装和运行">gulp的安装和运行</h2>

<p>敲黑板，讲重点啦。</p>

<p><code class="highlighter-rouge">gulp</code>的<a href="http://gulpjs.com/">官网</a>给了下面的一张图简单明了地讲明了如何安装<code class="highlighter-rouge">gulp</code>:</p>

<p><img src="/styles/images/gulp/gulp-install.png" alt="gulp安装" /></p>

<p>但我们一般都是这样进行的：</p>

<h4 id="1全局安装gulp">1.全局安装<code class="highlighter-rouge">gulp</code></h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install --global gulp
</code></pre></div></div>

<h4 id="2如果你需要使用gulp命令行">2.如果你需要使用<code class="highlighter-rouge">gulp</code>命令行</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install gulp-cli -g
</code></pre></div></div>

<blockquote>
  <p>以上这两种全局安装的写法都是一样的。</p>
</blockquote>

<h4 id="3作为项目的开发依赖安装devdependencies安装到项目所在目录">3.作为项目的开发依赖安装(<code class="highlighter-rouge">devDependencies</code>)，安装到项目所在目录</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install --save-dev gulp
</code></pre></div></div>

<h4 id="4在项目所在目录新建gulpfilejs文件">4.在项目所在目录新建<code class="highlighter-rouge">gulpfile.js</code>文件</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ touch gulpfile.js
</code></pre></div></div>

<blockquote>
  <p>你当然也可以手动新建一个<code class="highlighter-rouge">gulpfile.js</code>文件。</p>
</blockquote>

<p>这个文件大概如下所示：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//导入工具包 require('node_modules里对应模块')</span>
<span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp'</span><span class="p">),</span> <span class="c1">//本地安装gulp所用到的地方</span>
    <span class="nx">less</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-less'</span><span class="p">);</span>

<span class="c1">//定义一个testLess任务（自定义任务名称）</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'testLess'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'src/less/index.less'</span><span class="p">)</span> <span class="c1">//该任务针对的文件</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">less</span><span class="p">())</span> <span class="c1">//该任务调用的模块</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">'src/css'</span><span class="p">));</span> <span class="c1">//将会在src/css下生成index.css</span>
<span class="p">});</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'default'</span><span class="p">,[</span><span class="s1">'testLess'</span><span class="p">,</span> <span class="s1">'elseTask'</span><span class="p">]);</span> <span class="c1">//定义默认任务 elseTask为其他任务，该示例没有定义elseTask任务</span>

<span class="c1">//gulp.task(name[, deps], fn) 定义任务  name：任务名称 deps：依赖任务名称 fn：回调函数</span>
<span class="c1">//gulp.src(globs[, options]) 执行任务处理的文件  globs：处理的文件路径(字符串或者字符串数组) </span>
<span class="c1">//gulp.dest(path[, options]) 处理完后文件生成路径</span>
</code></pre></div></div>

<h4 id="5-运行gulp">5. 运行gulp</h4>

<p>如果执行特定任务：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gulp 任务名称
</code></pre></div></div>

<p>如果执行<code class="highlighter-rouge">default</code>任务：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gulp
</code></pre></div></div>

<p>则将会<code class="highlighter-rouge">default</code>任务中所有的任务。</p>

<p>如果你想了解更多，可以访问<code class="highlighter-rouge">gulp</code>的中文文档：<a href="http://www.gulpjs.com.cn/docs/">http://www.gulpjs.com.cn/docs/</a>或者他们的<code class="highlighter-rouge">Github</code>仓库的<code class="highlighter-rouge">API</code>文档<a href="https://github.com/gulpjs/gulp/blob/master/docs/API.md">https://github.com/gulpjs/gulp/blob/master/docs/API.md</a>。</p>

<hr />

<h2 id="常见的gulp插件">常见的gulp插件</h2>

<p>话不多说。</p>

<ul>
  <li>gulp-uglify : 解析、最小化、压缩和美化JavaScript文件</li>
  <li>gulp-cssnano : 压缩css</li>
  <li>gulp-autoprefixer : 解析css和提供供应商前缀</li>
  <li>gulp-htmlmin : 压缩HTML</li>
  <li>gulp-imagemin : 压缩图片</li>
  <li>gulp-concat : 合并JavaScript文件</li>
  <li>gulp-clean : 删除文件和文件夹</li>
  <li>gulp-rename : 重命名文件</li>
  <li>gulp-if : 判断语句</li>
  <li>run-sequence : 控制顺序执行的任务</li>
  <li>gulp-sourcemaps</li>
  <li>browser-sync : 浏览器同步</li>
  <li>require-dir : 对gulpfile进行分文件处理</li>
  <li>gulp-changed : 仅仅让更改过的文件经过管道</li>
  <li>
    <h2 id="gulp-sass--编译sass文件成css文件">gulp-sass : 编译sass文件成css文件</h2>
  </li>
</ul>

<h2 id="gulp的应用">gulp的应用</h2>

<h3 id="我的第一个应用--autoprefixer给常规css文件加厂商前缀">我的第一个应用 – autoprefixer给常规css文件加厂商前缀</h3>

<p><code class="highlighter-rouge">autoprefixer</code>可以根据浏览器版本自动处理浏览器前缀，使我们写代码的时候可以不考虑各浏览器兼容问题。</p>

<p><code class="highlighter-rouge">autoprefixer</code>的<code class="highlighter-rouge">Github</code>地址是：<a href="https://github.com/postcss/autoprefixer">https://github.com/postcss/autoprefixer</a></p>

<h4 id="该项目结构如下">该项目结构如下</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>│  gulpfile.js
│  index.html
│  package.json
│
├─css
│      style.css
│
├─dist
├─node_modules
└─scss
        style.scss
</code></pre></div></div>

<p>解释以下：<code class="highlighter-rouge">.scss</code>文件由<code class="highlighter-rouge">Sass</code>预处理器编写，放在<code class="highlighter-rouge">scss</code>文件夹，进过<code class="highlighter-rouge">Sass</code>编译过的<code class="highlighter-rouge">.css</code>文件被放在<code class="highlighter-rouge">css</code>文件夹。我们的目的呢，就是给<code class="highlighter-rouge">Sass</code>编译过的<code class="highlighter-rouge">style.css</code>文件添加厂商前缀，然后放在<code class="highlighter-rouge">dist</code>文件夹。</p>

<h4 id="本地安装gulp-autoprefixer">本地安装gulp-autoprefixer</h4>

<p>这个插件当然不是我们项目运行过程中需要的模块，所以使用<code class="highlighter-rouge">devDependencies</code>依赖。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install gulp-autoprefixer --save-dev
</code></pre></div></div>

<h4 id="配置gufilejs">配置gufile.js</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp'</span><span class="p">),</span>
    <span class="nx">autoprefixer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-autoprefixer'</span><span class="p">);</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'testAutoFx'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'css/style.css'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">autoprefixer</span><span class="p">({</span>
            <span class="na">browsers</span><span class="p">:</span> <span class="p">[</span><span class="s1">'last 2 versions'</span><span class="p">,</span> <span class="s1">'Android &gt;= 4.0'</span><span class="p">],</span>
            <span class="na">cascade</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//是否美化属性值 默认：true 像这样：</span>
            <span class="c1">//-webkit-transform: rotate(45deg);</span>
            <span class="c1">//        transform: rotate(45deg);</span>
            <span class="na">remove</span><span class="p">:</span><span class="kc">true</span> <span class="c1">//是否去掉不必要的前缀 默认：true</span>
        <span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">'dist/css'</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div></div>

<p>函数<code class="highlighter-rouge">autoprefixer(options)</code>的选项有<code class="highlighter-rouge">8</code>。可参见<a href="https://github.com/postcss/autoprefixer#options">https://github.com/postcss/autoprefixer#options</a></p>

<h4 id="执行任务">执行任务</h4>

<p>我们在命令行执行：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gulp testAutoFx
</code></pre></div></div>

<p>现在，在<code class="highlighter-rouge">dist</code>文件中多个一个<code class="highlighter-rouge">css</code>文件夹，<code class="highlighter-rouge">css</code>文件夹中有一个添加了厂商前缀的<code class="highlighter-rouge">style.css</code>文件，正是我们需要的。美滋滋😄</p>

<h4 id="福利">福利</h4>

<p><code class="highlighter-rouge">autoprefixer</code>还有一个<code class="highlighter-rouge">online</code>服务，网址是：<a href="https://autoprefixer.github.io/">https://autoprefixer.github.io/</a>。</p>

<hr />

<h2 id="gulp有关的问题">gulp有关的问题</h2>

<h3 id="为啥有些要return-有些不需要">为啥有些要return 有些不需要</h3>

<blockquote>
  <p>参考: <a href="https://github.com/gulpjs/gulp/blob/master/docs/recipes/running-tasks-in-series.md#running-tasks-in-series-ie-task-dependency">Running tasks in series</a> [Does a gulp task have to return anything?</p>
</blockquote>

<p>](https://stackoverflow.com/questions/26079118/does-a-gulp-task-have-to-return-anything) [Gulp.js task, return on src?</p>

<p>](https://stackoverflow.com/questions/21699146/gulp-js-task-return-on-src)</p>

            </article>
          <hr>
          <blockquote><p>对于本文内容有问题或建议的小伙伴，欢迎在文章底部留言交流讨论。</p></blockquote>
        </div>
      </div>
      <!--comment-->
      <!--code for 网易云跟帖
      <div class="panel docs-content">
        <article class="post-content">
          <div class="wrapper">
            <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
            <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
            <script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
            <script>
            var cloudTieConfig = {
            url: document.location.href, 
            sourceId: "",
            productKey: "b6d55f09637f497389b80bafc11aada1",
            target: "cloud-tie-wrapper"
            };
            var yunManualLoad = true;
            Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
            </script>
          </div>
        </article>
      </div> -->
      <!--Gitment-->
      <div id="container"></div>
      <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
      <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
      <script>
        var gitment = new Gitment({
          id: window.location.pathname, 
          owner: 'liusha529',
          repo: 'liusha529.github.io',
          oauth: {
          client_id: 'b389957bf0758092f3eb',
          client_secret: 'b84e22f17551d822d114d1d1d06244bc8d5fc987',
          },
        })
        gitment.render('container')
      </script>
      
    </div>
  </div>
</div>


    <footer class="footer" role="contentinfo">
	<!--不蒜子pv/uv统计-->
	<div class="post-meta">
            <p>Total <span id="busuanzi_value_site_pv"></span> views，您是本站的第<span id="busuanzi_value_site_uv"></span>个小伙伴，<span id="busuanzi_value_page_pv"></span> Hits</p><br/>
    </div>
	<div class="container">
		<p class="copyright">Copyright © 2017   <a href="https://github.com/maoxiaoke/maoxiaoke.github.io" target="_blank"><code>M/J.</code></a> All rights reserved. </p>
		<p>Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>， Data by <a href="https://tongji.baidu.com/web/23811489/overview/index" target="_blank">Bai Du</a>.</p>
	</div>
	<ul id="gotop"><li><span>TOP</span></li></ul>
</footer>
<script src="http://apps.bdimg.com/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="/styles/js/function.min.js"></script>
<script src="/styles/js/lessismore.js"></script>
<script src="/styles/js/application.min.js"></script>
  </body>
</html>
