<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" >
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
	<title>REST和RESTful和Node</title>
	<meta name="description" content="云飞的个人博客、web、后端、javascript、css、html、H5、CSS3、web工程师、gulp、jekyll、git">
	<meta name="keywords" content="web、后端、webapp、个人博客、技术博客、github博客、javascript、css、html、H5、CSS3、web工程师、gulp" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="msapplication-tap-highlight" content="no">
	<meta name="author" contect="maoxiaoke, maoxiaoke@outlook.com">
	<meta name="robots" content="index,follow">
	<link rel="shortcut icon" href="/styles/images/favicon.png">
	<link rel="icon" href="/styles/images/favicon.png">
	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="canonical" href="http://localhost:4000">
	<!--[if lte IE 9]>
    	<script src="http://apps.bdimg.com/libs/html5shiv/3.7/html5shiv.min.js"></script>
  	<![endif]-->
	<!--[if lt IE 9]>
    	<script>window.location.href='/upgrade-your-browser.html';</script>
    <![endif]-->
	<script>
		var _hmt = _hmt || [];
		(function() {
  			var hm = document.createElement("script");
  			hm.src = "https://hm.baidu.com/hm.js?40ab350f7c60a488b8e8093960c0faf2";
  			var s = document.getElementsByTagName("script")[0]; 
  			s.parentNode.insertBefore(hm, s);
		})();
	</script>
</head>
  <body class="index">
    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.png" alt="小可嗒嗒的个人博客">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li></li>
        <li>
          <a href="/">首页</a>
        </li>
        <li>
          <a href="/categories/">博文分类</a>
        </li>
        <li>
          <a href="/tag">标签目录</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">

        <li><a rel="nofollow" href="/about">关于我</a></li>



        <!--<li><a rel="nofollow" target="_blank" href="https://liusha529.github.io/">关于我</a></li>-->

      </ul>
    </nav>
  </div>
</header>
    <div class="docs-header pa" id="content">
    <canvas id="mycanvas">你的浏览器不支持canvas</canvas>
    <div class="container" >
  	
        <!--
		    <h1>REST和RESTful和Node</h1>
		    <p>Post on Jul 29, 2017 by <a href="/about">LiuSha</a></p>
		-->
        <h1>我们笑着说再见，却深知再见遥遥无期。</h1>
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container lh30">
  	
    	<a href="/categories/#研究生涯-ref">研究生涯</a>	/
    	<a href="/tag/#Node-ref">Node</a>
    
      <div id="search-container" class="pull-right">
          <input type="text" id="search-input" placeholder=" 试试直接搜索吧...">
          <label class="searchIcon glyphicon glyphicon-search" for="search-input"></label>
          <ul id="results-container"></ul>
      </div>
  </div>
</div>

    
    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2018">2018</a>
          <ul class="nav">
            <li><a href="#month_2018_January">January</a></li>
      

      
        
            </ul>
          </li>
          <li><a href="#year_2017">2017</a>
            <ul class="nav">
              <li><a href="#month_2017_October">October</a></li>
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_August">August</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_July">July</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_June">June</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_May">May</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_April">April</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_March">March</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_February">February</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_January">January</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
        
            </ul>
          </li>
          <li><a href="#year_2015">2015</a>
            <ul class="nav">
              <li><a href="#month_2015_February">February</a></li>
        
      
    
      
      
      
      

      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div> 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">REST和RESTful和Node</h1>
              <!--
                <p class="post-meta">Jul 29, 2017</p>
              -->
              <div class="meta">Date： <span class="postdate">Jul 29, 2017</span> Author： <a target="_blank" href="http://localhost:4000">LiuSha</a></div>
              <br />
              <blockquote><p>本文章采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh"> 知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议 </a>进行许可。转载请注明来自<a href="http://xiaokedada.com">小可嗒嗒的博客</a></p></blockquote>
            </header>
            <article class="post-content">
              <ul id="markdown-toc">
  <li><a href="#rest的几个principles" id="markdown-toc-rest的几个principles">REST的几个Principles</a>    <ul>
      <li><a href="#任何东西都是资源" id="markdown-toc-任何东西都是资源">任何东西都是资源</a></li>
      <li><a href="#每个资源都有特定的标识符url" id="markdown-toc-每个资源都有特定的标识符url">每个资源都有特定的标识符(URL)</a></li>
      <li><a href="#使用标准的http谓词" id="markdown-toc-使用标准的http谓词">使用标准的HTTP谓词</a></li>
      <li><a href="#资源可以有多种表征形式" id="markdown-toc-资源可以有多种表征形式">资源可以有多种表征形式</a></li>
      <li><a href="#无状态通信" id="markdown-toc-无状态通信">无状态通信</a></li>
    </ul>
  </li>
  <li><a href="#rest架构风格约束" id="markdown-toc-rest架构风格约束">REST架构风格约束</a></li>
  <li><a href="#restful-api" id="markdown-toc-restful-api">RESTful API</a></li>
</ul>

<blockquote>
  <p>REST is a set of architectural constraints that aid you when developing an API over HTTP. – Nicolas Bevacqua «JavaScript Application Design-A build first approach»</p>
</blockquote>

<p>REST: Resource Representational State Transfer。采用正译，叫<em>资源表征状态转移</em>。挨个理解:</p>

<ul>
  <li>Resource : 资源，也就是data(数据)。需要说明的是，资源的表征方式不是一个具体的物理文件，而是特定的格式类型。在HTTP中，由<code class="highlighter-rouge">content-type</code>描述。每一份资源都有特定的URL来标识。</li>
  <li>Representational: 指的就是资源的表征形式。比如，json、xml、jpeg等等</li>
  <li>State Transfer: 状态转移，即通过HTTP谓词来实现资源的状态变化。参考阮一峰的文章，他说。HTTP是一个无状态协议。这意味着，所有的状态都保存在服务器端。因此，如果客户端想要操作服务器，必须通过某种手段，让服务器端发生”状态转化”。而这种手段，就是HTTP谓词。这种转化是建立在表现层之上的，所以就是”表现层状态转化”。</li>
</ul>

<p>有人总结了下面这句话来描述REST：</p>

<blockquote>
  <p>URL定位资源，使用HTTP谓词来描述操作。</p>
</blockquote>

<!-- more -->

<h2 id="rest的几个principles">REST的几个Principles</h2>

<h3 id="任何东西都是资源">任何东西都是资源</h3>

<p>关于这个，意会就可以。同时也说，这种任何东西(这种东西本身是一种资源)的表征形式不是物理文件，而是特定的格式类型。</p>

<blockquote>
  <p>换句更难懂的化是说，资源是一切信息的抽象。</p>
</blockquote>

<h3 id="每个资源都有特定的标识符url">每个资源都有特定的标识符(URL)</h3>

<p>也就是说，我们的各种资源都可以被URLs访问得到。而URLs最好也是human-readeable。</p>

<h3 id="使用标准的http谓词">使用标准的HTTP谓词</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: center">谓词</th>
      <th style="text-align: center">操作</th>
      <th style="text-align: center">响应状态码</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">PUT</td>
      <td style="text-align: center">创建或更新资源</td>
      <td style="text-align: center">“201 CREATED” 如果资源创建; “200 OK” 表示更新成功; “500 Internal Serval Error” 其他错误</td>
    </tr>
    <tr>
      <td style="text-align: center">GET</td>
      <td style="text-align: center">请求一个已存在的资源</td>
      <td style="text-align: center">“200 OK” 如果资源存在; “404 Not Found” 资源不存在;”500 Internal Serval Error” 其他错误</td>
    </tr>
    <tr>
      <td style="text-align: center">POST</td>
      <td style="text-align: center">更新一个已存在的资源</td>
      <td style="text-align: center">“200 OK” 资源成功更新; “404 Not Found” 待更新的资源未找到;”500 Internal Serval Error” 其他错误</td>
    </tr>
    <tr>
      <td style="text-align: center">DELETE</td>
      <td style="text-align: center">删除一个资源</td>
      <td style="text-align: center">“200 OK” 成功删除; “404 Not Found” 待删除的资源未找到;”500 Internal Serval Error” 其他错误</td>
    </tr>
  </tbody>
</table>

<p>所以，这是一种CRUD(Create、Read、Update和Delete)应用。</p>

<h3 id="资源可以有多种表征形式">资源可以有多种表征形式</h3>

<p>举个例子，当我们post一份资源，如果服务器支持XML，也支持JSON。则这样也可以:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /data/balance HTTP/1.1
Content-Type: application/json
Host: www.mydatastore.com

{
    ...
}
</code></pre></div></div>

<h3 id="无状态通信">无状态通信</h3>

<p>HTTP是无状态的: 再同一个链接中，两个成功执行的请求之间是没有关系的。REST的无状态，意味着请求中要有足够的信息，让后端知道你想做什么，而且服务器不能使用存储在自身中的任何上下文。<strong>也就是说，响应只能由请求决定</strong>。</p>

<hr />

<h2 id="rest架构风格约束">REST架构风格约束</h2>

<p>根据参考2，风格约束主要有6个:</p>

<ul>
  <li>客户-服务器（Client-Server） 通信只能由客户端单方面发起，表现为请求-响应的形式。</li>
  <li>无状态（Stateless） 通信的会话状态（Session State）应该全部由客户端负责维护。</li>
  <li>缓存（Cache） 响应内容可以在通信链的某处被缓存，以改善网络效率。</li>
  <li>统一接口（Uniform Interface） 通信链的组件之间通过统一的接口相互通信，以提高交互的可见性。</li>
  <li>分层系统（Layered System） 通过限制组件的行为（即，每个组件只能“看到”与其交互的紧邻层），将架构分解为若干等级的层。</li>
  <li>按需代码（Code-On-Demand，可选） 支持通过下载并执行一些代码（例如Java Applet、Flash或JavaScript），对客户端的功能进行扩展。</li>
</ul>

<hr />

<h2 id="restful-api">RESTful API</h2>

<p>简而言之，符合REST架构的API就是RESTful API。更直观的理解，就是对URL进行规范，写符合RESTful格式的URL。</p>

<p>RESTful API的目的呢，就是通过一套统一的接口，为web、ios和android提供服务。</p>

<p>而RESTful API的设计有一些best practice:</p>

<ul>
  <li>最好为所有的API断点指定一个前缀，比如<code class="highlighter-rouge">xiaokedada.com/api</code></li>
  <li>URI使用名词而不是动词，且推荐使用复数</li>
  <li>全部小写，推荐使用连字符</li>
  <li>使用正确的HTTP方法</li>
  <li>保证HEAD和GET方法是安全的，不会对资源状态造成污染</li>
  <li>资源的地址推荐使用嵌套结构</li>
  <li>使用正确的HTTP Status Code表示访问状态</li>
  <li>关于API的版本，一种观点建议在HTTP首部中设定；另一种观点建议在URL中设定，比如<code class="highlighter-rouge">xiaodedada.com/api/v1/...</code></li>
</ul>

<p>参考1: <a href="http://www.ruanyifeng.com/blog/2011/09/restful.html">理解RESTful架构</a>
参考2: <a href="http://www.infoq.com/cn/articles/understanding-restful-style/">理解本真的REST架构风格</a>
参考3: <a href="https://stackoverflow.com/questions/671118/what-exactly-is-restful-programming">What exactly is RESTful programming?</a>
参考4: <a href="http://www.restapitutorial.com/lessons/whatisrest.html">What Is REST?</a>
参考5: «JavaScript Application Design-A build first approach»</p>

            </article>
          <hr>
          <blockquote><p>对于本文内容有问题或建议的小伙伴，欢迎在文章底部留言交流讨论。</p></blockquote>
        </div>
      </div>
      <!--comment-->
      <!--code for 网易云跟帖
      <div class="panel docs-content">
        <article class="post-content">
          <div class="wrapper">
            <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
            <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
            <script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
            <script>
            var cloudTieConfig = {
            url: document.location.href, 
            sourceId: "",
            productKey: "b6d55f09637f497389b80bafc11aada1",
            target: "cloud-tie-wrapper"
            };
            var yunManualLoad = true;
            Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
            </script>
          </div>
        </article>
      </div> -->
      <!--Gitment-->
      <div id="container"></div>
      <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
      <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
      <script>
        var gitment = new Gitment({
          id: window.location.pathname, 
          owner: 'liusha529',
          repo: 'liusha529.github.io',
          oauth: {
          client_id: 'b389957bf0758092f3eb',
          client_secret: 'b84e22f17551d822d114d1d1d06244bc8d5fc987',
          },
        })
        gitment.render('container')
      </script>
      
    </div>
  </div>
</div>


    <footer class="footer" role="contentinfo">
	<!--不蒜子pv/uv统计-->
	<div class="post-meta">
            <p>Total <span id="busuanzi_value_site_pv"></span> views，您是本站的第<span id="busuanzi_value_site_uv"></span>个小伙伴，<span id="busuanzi_value_page_pv"></span> Hits</p><br/>
    </div>
	<div class="container">
		<p class="copyright">Copyright © 2017   <a href="https://github.com/maoxiaoke/maoxiaoke.github.io" target="_blank"><code>M/J.</code></a> All rights reserved. </p>
		<p>Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>， Data by <a href="https://tongji.baidu.com/web/23811489/overview/index" target="_blank">Bai Du</a>.</p>
	</div>
	<ul id="gotop"><li><span>TOP</span></li></ul>
</footer>
<script src="http://apps.bdimg.com/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="/styles/js/function.min.js"></script>
<script src="/styles/js/lessismore.js"></script>
<script src="/styles/js/application.min.js"></script>
  </body>
</html>
